{"version":3,"file":"ngx-file-uploader-lib.umd.js.map","sources":["ng://ngx-file-uploader-lib/lib/ngx-file-uploader.service.ts","ng://ngx-file-uploader-lib/lib/ngx-file-uploader.component.ts","ng://ngx-file-uploader-lib/lib/ngx-file-uploader.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NgxFileUploaderService {\n\n  constructor() { }\n}\n","import {\n  Component, Input, forwardRef, Output, EventEmitter\n} from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nconst noop = () => {\n};\n\n@Component({\n  selector: 'file-uploader',\n  styleUrls: ['./ngx-file-uploader.component.css'],\n  templateUrl: './ngx-file-uploader.component.html',\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => NgxFileUploaderComponent), multi: true\n    }\n  ]\n})\nexport class NgxFileUploaderComponent implements ControlValueAccessor {\n  @Input() public source: any;\n  @Output() public fileChanged: EventEmitter<any> = new EventEmitter();\n  @Output() public onClear: EventEmitter<any> = new EventEmitter();\n  public _imagePath: string;\n  public uploading = false;\n  // The internal data model\n  private innerValue: any = '';\n\n  // Placeholders for the callbacks which are later providesd\n  // by the Control Value Accessor\n  private onTouchedCallback: () => void = noop;\n  private onChangeCallback: (_: any) => void = noop;\n\n  // get accessor\n  get value(): any {\n    return this.innerValue;\n  }\n\n  // set accessor including call the onchange callback\n  set value(v: any) {\n    if (v !== this.innerValue) {\n      this.innerValue = v;\n      this.onChangeCallback(v);\n    }\n  }\n  // Current time string.\n\n  public writeValue(value: any) {\n    if (value !== this.innerValue) {\n      this.innerValue = value;\n      this.onChangeCallback(this.value);\n    }\n  }\n\n  // From ControlValueAccessor interface\n  public registerOnChange(fn: any) {\n    this.onChangeCallback = fn;\n  }\n\n  // From ControlValueAccessor interface\n  public registerOnTouched(fn: any) {\n    this.onTouchedCallback = fn;\n  }\n  \n\n  public onBlur() {\n    this.onTouchedCallback();\n  }\n\n  public onChange(event: any) {\n    const files = event.srcElement.files;\n    this.uploading = true;\n    const fileToLoad = files[0];\n\n    const fileReader = new FileReader();\n    fileReader.onload = (fileLoadedEvent) => {\n      const data = fileReader.result;\n      const fileType = data.toString().substring('data:image/'.length, data.toString().indexOf(';base64'));\n      const payload = {\n        data,\n        extension: fileType\n      };\n      this.fileChanged.emit(payload);\n    };\n\n    fileReader.readAsDataURL(fileToLoad);\n  }\n\n  public clear() {\n    this.value = '';\n    this.onClear.emit();\n    this.onChangeCallback(this.value);\n  }\n}","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { NgxFileUploaderComponent } from './ngx-file-uploader.component';\n\n@NgModule({\n  imports: [\n    CommonModule,FormsModule\n  ],\n  declarations: [NgxFileUploaderComponent],\n  exports: [NgxFileUploaderComponent]\n})\nexport class NgxFileUploaderModule { }\n"],"names":["Injectable","EventEmitter","Component","NG_VALUE_ACCESSOR","forwardRef","Input","Output","NgModule","CommonModule","FormsModule"],"mappings":"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"}
